<div class="container-fluid mt-4">
  <h1 class="mb-4">Estadisticas</h1>

  <div class="cards-slider" #cardsslider (scroll)="onScroll()">
    <!-- Compras Totales Card -->
    <div class="slide">
      <div class="card metric-card">
        <div class="card-body h-100">
          <div class="metric-content">
            <div class="icon-container bg-purple">
              <i class="bi bi-cart-fill"></i>
            </div>
            <div class="metric-info">
              <div class="label-container">
                <span class="label">Compras Totales</span>
                <i class="bi toggle-visibility" 
                   [class.bi-eye-fill]="visibleBalances['compras']" 
                   [class.bi-eye-slash-fill]="!visibleBalances['compras']"
                   (click)="toggleBalance('compras')"></i>
              </div>
              <div class="value">
                {{ visibleBalances['compras'] ? (totalCompras | number:'1.2-2') + ' MXN' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Falta de Rembolsar Card -->
    <div class="slide">
      <div class="card metric-card">
        <div class="card-body h-100">
          <div class="metric-content">
            <div class="icon-container bg-blue">
              <i class="bi bi-arrow-repeat"></i>
            </div>
            <div class="metric-info">
              <div class="label-container">
                <span class="label">Falta de Rembolsar</span>
                <i class="bi toggle-visibility"
                   [class.bi-eye-fill]="visibleBalances['reembolsos']" 
                   [class.bi-eye-slash-fill]="!visibleBalances['reembolsos']"
                   (click)="toggleBalance('reembolsos')"></i>
              </div>
              <div class="value">
                {{ visibleBalances['reembolsos'] ? '2.757,00 MXN' : '****' }}
              </div>
              <div class="extra-info">3 pendientes</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Vendido Card -->
    <div class="slide">
      <div class="card metric-card">
        <div class="card-body h-100">
          <div class="metric-content">
            <div class="icon-container bg-green">
              <i class="bi bi-graph-up"></i>
            </div>
            <div class="metric-info">
              <div class="label-container">
                <span class="label">Vendido</span>
                <i class="bi toggle-visibility"
                   [class.bi-eye-fill]="visibleBalances['vendido']" 
                   [class.bi-eye-slash-fill]="!visibleBalances['vendido']"
                   (click)="toggleBalance('vendido')"></i>
              </div>
              <div class="value">
                {{ visibleBalances['vendido'] ? '0,00 MXN' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ganancia Total Card -->
    <div class="slide">
      <div class="card metric-card">
        <div class="card-body h-100">
          <div class="metric-content">
            <div class="icon-container bg-red">
              <i class="bi bi-wallet2"></i>
            </div>
            <div class="metric-info">
              <div class="label-container">
                <span class="label">Ganancia Total</span>
                <i class="bi toggle-visibility"
                   [class.bi-eye-fill]="visibleBalances['ganancia']" 
                   [class.bi-eye-slash-fill]="!visibleBalances['ganancia']"
                   (click)="toggleBalance('ganancia')"></i>
              </div>
              <div class="value">
                {{ visibleBalances['ganancia'] ? '$0.00' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="pagination-dots">
    <div class="dot" *ngFor="let _ of [0,1,2,3]; let i = index" 
         [class.active]="currentSlide === i" 
         (click)="goToSlide(i)"></div>
  </div>
</div>