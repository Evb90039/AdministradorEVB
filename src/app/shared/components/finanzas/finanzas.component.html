<div class="container-fluid mt-4">
  <h1>Estadisticas</h1>

  <div class="cards-slider" #cardsslider (scroll)="onScroll()">
    <div class="slide">
      <div class="card metric-card">
        <div class="card-body">
          <div class="metric-content">
            <div class="icon-container bg-purple">
              <i class="bi bi-cart-fill"></i>
            </div>
            <div class="metric-info">
              <div class="d-flex justify-content-between align-items-center">
                <div class="label">Compras Totales</div>
                <button class="btn btn-link p-0" (click)="toggleBalance('compras')">
                  <i class="bi" [ngClass]="visibleBalances['compras'] ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </button>
              </div>
              <div class="value">
                {{ visibleBalances['compras'] ? (totalCompras | number:'1.2-2') + ' MXN' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide">
      <div class="card metric-card">
        <div class="card-body">
          <div class="metric-content">
            <div class="icon-container bg-blue">
              <i class="bi bi-arrow-repeat"></i>
            </div>
            <div class="metric-info">
              <div class="d-flex justify-content-between align-items-center">
                <div class="label">Falta de Rembolsar</div>
                <button class="btn btn-link p-0" (click)="toggleBalance('reembolsos')">
                  <i class="bi" [ngClass]="visibleBalances['reembolsos'] ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </button>
              </div>
              <div class="value">
                {{ visibleBalances['reembolsos'] ? '2.757,00 MXN' : '****' }}
              </div>
              <div class="extra-info">3 pendientes</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide">
      <div class="card metric-card">
        <div class="card-body">
          <div class="metric-content">
            <div class="icon-container bg-green">
              <i class="bi bi-graph-up"></i>
            </div>
            <div class="metric-info">
              <div class="d-flex justify-content-between align-items-center">
                <div class="label">Vendido</div>
                <button class="btn btn-link p-0" (click)="toggleBalance('vendido')">
                  <i class="bi" [ngClass]="visibleBalances['vendido'] ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </button>
              </div>
              <div class="value">
                {{ visibleBalances['vendido'] ? '0,00 MXN' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="slide">
      <div class="card metric-card">
        <div class="card-body">
          <div class="metric-content">
            <div class="icon-container bg-red">
              <i class="bi bi-piggy-bank-fill"></i>
            </div>
            <div class="metric-info">
              <div class="d-flex justify-content-between align-items-center">
                <div class="label">Ganancia Total</div>
                <button class="btn btn-link p-0" (click)="toggleBalance('ganancia')">
                  <i class="bi" [ngClass]="visibleBalances['ganancia'] ? 'bi-eye-fill' : 'bi-eye-slash-fill'"></i>
                </button>
              </div>
              <div class="value">
                {{ visibleBalances['ganancia'] ? '$0.00' : '****' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="pagination-dots">
    <div class="dot" *ngFor="let _ of [0,1,2,3]; let i = index" 
         [class.active]="currentSlide === i" 
         (click)="goToSlide(i)">
    </div>
  </div>
</div>